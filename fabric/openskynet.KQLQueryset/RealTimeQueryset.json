{"payload":{"tabs":[{"id":"a9312b0e-5e99-4a8c-9de2-df1899deb2d2","queryRange":{"startLineNumber":1,"startColumn":1,"endLineNumber":19,"endColumn":1},"title":"Create bronze","text":".execute database script <|\n.create-or-alter table BronzeOpenskynet (\n    icao24           : string,\n    callsign         : string,\n    origin_country   : string,\n    time_position    : datetime,\n    last_contact     : datetime,\n    longitude        : real,\n    latitude         : real,\n    baro_altitude    : real,\n    on_ground        : bool,\n    velocity         : real,\n    true_track       : real,\n    vertical_rate    : real,\n    geo_altitude     : real,\n    bronze_timestamp : ingestion_time\n)\n.create table ['BronzeOpenskynet'] ingestion json mapping 'openskynet_mapping' '[{\"column\":\"icao24\", \"Properties\":{\"Path\":\"$[\\'icao24\\']\"}},{\"column\":\"callsign\", \"Properties\":{\"Path\":\"$[\\'callsign\\']\"}},{\"column\":\"origin_country\", \"Properties\":{\"Path\":\"$[\\'origin_country\\']\"}},{\"column\":\"time_position\", \"Properties\":{\"Path\":\"$[\\'time_position\\']\",\"transform\":\"DateTimeFromUnixSeconds\"}},{\"column\":\"last_contact\", \"Properties\":{\"Path\":\"$[\\'last_contact\\']\",\"transform\":\"DateTimeFromUnixSeconds\"}},{\"column\":\"longitude\", \"Properties\":{\"Path\":\"$[\\'longitude\\']\"}},{\"column\":\"latitude\", \"Properties\":{\"Path\":\"$[\\'latitude\\']\"}},{\"column\":\"baro_altitude\", \"Properties\":{\"Path\":\"$[\\'baro_altitude\\']\"}},{\"column\":\"on_ground\", \"Properties\":{\"Path\":\"$[\\'on_ground\\']\"}},{\"column\":\"velocity\", \"Properties\":{\"Path\":\"$[\\'velocity\\']\"}},{\"column\":\"true_track\", \"Properties\":{\"Path\":\"$[\\'true_track\\']\"}},{\"column\":\"vertical_rate\", \"Properties\":{\"Path\":\"$[\\'vertical_rate\\']\"}},{\"column\":\"geo_altitude\", \"Properties\":{\"Path\":\"$[\\'geo_altitude\\']\"}}]'\n","commandInContext":".execute database script <|\n.create-or-alter table BronzeOpenskynet (\n    icao24           : string,\n    callsign         : string,\n    origin_country   : string,\n    time_position    : datetime,\n    last_contact     : datetime,\n    longitude        : real,\n    latitude         : real,\n    baro_altitude    : real,\n    on_ground        : bool,\n    velocity         : real,\n    true_track       : real,\n    vertical_rate    : real,\n    geo_altitude     : real,\n    bronze_timestamp : ingestion_time\n)\n.create table ['BronzeOpenskynet'] ingestion json mapping 'openskynet_mapping' '[{\"column\":\"icao24\", \"Properties\":{\"Path\":\"$[\\'icao24\\']\"}},{\"column\":\"callsign\", \"Properties\":{\"Path\":\"$[\\'callsign\\']\"}},{\"column\":\"origin_country\", \"Properties\":{\"Path\":\"$[\\'origin_country\\']\"}},{\"column\":\"time_position\", \"Properties\":{\"Path\":\"$[\\'time_position\\']\",\"transform\":\"DateTimeFromUnixSeconds\"}},{\"column\":\"last_contact\", \"Properties\":{\"Path\":\"$[\\'last_contact\\']\",\"transform\":\"DateTimeFromUnixSeconds\"}},{\"column\":\"longitude\", \"Properties\":{\"Path\":\"$[\\'longitude\\']\"}},{\"column\":\"latitude\", \"Properties\":{\"Path\":\"$[\\'latitude\\']\"}},{\"column\":\"baro_altitude\", \"Properties\":{\"Path\":\"$[\\'baro_altitude\\']\"}},{\"column\":\"on_ground\", \"Properties\":{\"Path\":\"$[\\'on_ground\\']\"}},{\"column\":\"velocity\", \"Properties\":{\"Path\":\"$[\\'velocity\\']\"}},{\"column\":\"true_track\", \"Properties\":{\"Path\":\"$[\\'true_track\\']\"}},{\"column\":\"vertical_rate\", \"Properties\":{\"Path\":\"$[\\'vertical_rate\\']\"}},{\"column\":\"geo_altitude\", \"Properties\":{\"Path\":\"$[\\'geo_altitude\\']\"}}]'\n","executionStatus":"gotFromCache","clientRequestId":"Kusto.Web.RTA.QuerySet;bd7b9b0f-0501-42d5-8afb-7291a5b9648b;f9ab1035-63ca-489f-82d8-b41204ef1685","entityInContext":"trd-kz4sd5vknmz3u5t26m.z2/ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","commandType":"AdminCommand","commandWithoutLeadingComments":".execute database script <|\n.create-or-alter table BronzeOpenskynet (\n    icao24           : string,\n    callsign         : string,\n    origin_country   : string,\n    time_position    : datetime,\n    last_contact     : datetime,\n    longitude        : real,\n    latitude         : real,\n    baro_altitude    : real,\n    on_ground        : bool,\n    velocity         : real,\n    true_track       : real,\n    vertical_rate    : real,\n    geo_altitude     : real,\n    bronze_timestamp : ingestion_time\n)\n.create table ['BronzeOpenskynet'] ingestion json mapping 'openskynet_mapping' '[{\"column\":\"icao24\", \"Properties\":{\"Path\":\"$[\\'icao24\\']\"}},{\"column\":\"callsign\", \"Properties\":{\"Path\":\"$[\\'callsign\\']\"}},{\"column\":\"origin_country\", \"Properties\":{\"Path\":\"$[\\'origin_country\\']\"}},{\"column\":\"time_position\", \"Properties\":{\"Path\":\"$[\\'time_position\\']\",\"transform\":\"DateTimeFromUnixSeconds\"}},{\"column\":\"last_contact\", \"Properties\":{\"Path\":\"$[\\'last_contact\\']\",\"transform\":\"DateTimeFromUnixSeconds\"}},{\"column\":\"longitude\", \"Properties\":{\"Path\":\"$[\\'longitude\\']\"}},{\"column\":\"latitude\", \"Properties\":{\"Path\":\"$[\\'latitude\\']\"}},{\"column\":\"baro_altitude\", \"Properties\":{\"Path\":\"$[\\'baro_altitude\\']\"}},{\"column\":\"on_ground\", \"Properties\":{\"Path\":\"$[\\'on_ground\\']\"}},{\"column\":\"velocity\", \"Properties\":{\"Path\":\"$[\\'velocity\\']\"}},{\"column\":\"true_track\", \"Properties\":{\"Path\":\"$[\\'true_track\\']\"}},{\"column\":\"vertical_rate\", \"Properties\":{\"Path\":\"$[\\'vertical_rate\\']\"}},{\"column\":\"geo_altitude\", \"Properties\":{\"Path\":\"$[\\'geo_altitude\\']\"}}]'","hideEmptyColumns":false,"cursorPosition":{"lineNumber":19,"column":1}},{"id":"f2cc9dc9-b33f-4842-a0a9-916611d6a734","queryRange":{"startLineNumber":1,"startColumn":1,"endLineNumber":2,"endColumn":1},"title":"clear bronze","text":".clear table BronzeOpenskynet data\n","commandInContext":".clear table BronzeOpenskynet data\n","executionStatus":"gotFromCache","clientRequestId":"Kusto.Web.RTA.QuerySet;bd7b9b0f-0501-42d5-8afb-7291a5b9648b;b1b96cf4-106a-469c-a179-74875801f75f","entityInContext":"trd-kz4sd5vknmz3u5t26m.z2/ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","commandType":"AdminCommand","commandWithoutLeadingComments":".clear table BronzeOpenskynet data","hideEmptyColumns":false,"cursorPosition":{"lineNumber":1,"column":1}},{"id":"826cd6c7-3ab6-41be-b37b-ce5bd19b712d","queryRange":{"startLineNumber":20,"startColumn":1,"endLineNumber":21,"endColumn":1},"title":"Create silver","text":".execute database script <|\n.create table [SilverOpenskynet] (\n    icao24: string,\n    callsign: string,\n    origin_country: string,\n    time_position: datetime,\n    last_contact: datetime,\n    longitude: real,\n    latitude: real,\n    baro_altitude: real,\n    on_ground: bool,\n    velocity: real,\n    true_track: real,\n    vertical_rate: real,\n    geo_altitude: real,\n    bronze_timestamp: datetime,\n    silver_timestamp: datetime\n)\n\n.alter-merge table SilverOpenskynet policy update @'[{\"IsEnabled\": true, \"Source\": \"BronzeOpenskynet\", \"Query\": \"BronzeOpenskynet | where isnotempty(icao24) and isnotnull(icao24) | where isnotempty(callsign) and isnotnull(callsign) | where isnotempty(time_position) and isnotnull(time_position) | extend bronze_timestamp = ingestion_time() | extend silver_timestamp = now() | extend callsign = replace(\\\" \\\", \\\"\\\", callsign)\", \"IsTransactional\": false}]'\n","commandInContext":".alter-merge table SilverOpenskynet policy update @'[{\"IsEnabled\": true, \"Source\": \"BronzeOpenskynet\", \"Query\": \"BronzeOpenskynet | where isnotempty(icao24) and isnotnull(icao24) | where isnotempty(callsign) and isnotnull(callsign) | where isnotempty(time_position) and isnotnull(time_position) | extend bronze_timestamp = ingestion_time() | extend silver_timestamp = now() | extend callsign = replace(\\\" \\\", \\\"\\\", callsign)\", \"IsTransactional\": false}]'\n","executionStatus":"done","clientRequestId":"Kusto.Web.RTA.QuerySet;967cde03-d1d8-446a-ad11-a7bd7c9e9cac;98353606-be54-4fa1-b3af-c7bccb413366","entityInContext":"trd-kz4sd5vknmz3u5t26m.z2/ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","commandType":"AdminCommand","commandWithoutLeadingComments":".alter-merge table SilverOpenskynet policy update @'[{\"IsEnabled\": true, \"Source\": \"BronzeOpenskynet\", \"Query\": \"BronzeOpenskynet | where isnotempty(icao24) and isnotnull(icao24) | where isnotempty(callsign) and isnotnull(callsign) | where isnotempty(time_position) and isnotnull(time_position) | extend bronze_timestamp = ingestion_time() | extend silver_timestamp = now() | extend callsign = replace(\\\" \\\", \\\"\\\", callsign)\", \"IsTransactional\": false}]'","hideEmptyColumns":false,"cursorPosition":{"lineNumber":20,"column":455}},{"id":"c2dc4aae-0369-422f-863d-e14d86196876","queryRange":{"startLineNumber":1,"startColumn":1,"endLineNumber":4,"endColumn":455},"title":"Clear silver","text":".execute database script <|\n.clear table SilverOpenskynet data\n.delete table SilverOpenskynet policy update\n.alter-merge table SilverOpenskynet policy update @'[{\"IsEnabled\": true, \"Source\": \"BronzeOpenskynet\", \"Query\": \"BronzeOpenskynet | where isnotempty(icao24) and isnotnull(icao24) | where isnotempty(callsign) and isnotnull(callsign) | where isnotempty(time_position) and isnotnull(time_position) | extend bronze_timestamp = ingestion_time() | extend silver_timestamp = now() | extend callsign = replace(\\\" \\\", \\\"\\\", callsign)\", \"IsTransactional\": false}]'","commandInContext":".execute database script <|\n.clear table SilverOpenskynet data\n.delete table SilverOpenskynet policy update","executionStatus":"done","clientRequestId":"Kusto.Web.RTA.QuerySet;bd7b9b0f-0501-42d5-8afb-7291a5b9648b;8803887b-47f9-4061-a346-9c6bf6ccc396","entityInContext":"trd-kz4sd5vknmz3u5t26m.z2/ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","commandType":"AdminCommand","commandWithoutLeadingComments":".execute database script <|\n.clear table SilverOpenskynet data\n.delete table SilverOpenskynet policy update","hideEmptyColumns":false,"cursorPosition":{"lineNumber":1,"column":1}},{"id":"89e1775f-ef0a-4dc9-8244-61c693f9ea30","queryRange":{"startLineNumber":1,"startColumn":1,"endLineNumber":2,"endColumn":34},"title":"exploration","text":"SilverOpenskynet\n| summarize max(bronze_timestamp)","commandInContext":"SilverOpenskynet\n| summarize max(bronze_timestamp)","executionStatus":"done","clientRequestId":"Kusto.Web.RTA.QuerySet;967cde03-d1d8-446a-ad11-a7bd7c9e9cac;aac6252b-3f64-4798-98ff-6069bbb816b5","entityInContext":"trd-kz4sd5vknmz3u5t26m.z2/ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","commandType":"Query","commandWithoutLeadingComments":"SilverOpenskynet\n| summarize max(bronze_timestamp)","hideEmptyColumns":false,"cursorPosition":{"lineNumber":2,"column":34}},{"id":"40aa90fc-24d1-47fc-acc9-59cb7be6ba29","queryRange":{"startLineNumber":1,"startColumn":1,"endLineNumber":11,"endColumn":2},"title":"Create silver old","text":".create materialized-view SilverOpenskynet on table BronzeOpenskynet\n{\nBronzeOpenskynet\n    | where isnotempty(icao24) and isnotnull(icao24)\n    | where isnotempty(callsign) and isnotnull(callsign)\n    | where isnotempty(time_position) and isnotnull(time_position)\n    | extend bronze_timestamp = ingestion_time()\n    | extend silver_timestamp = now()\n    | extend callsign=replace(\" \", \"\", callsign)\n    | summarize arg_max(bronze_timestamp, *) by icao24\n}","commandInContext":".create materialized-view SilverOpenskynet on table BronzeOpenskynet\n{\nBronzeOpenskynet\n    | where isnotempty(icao24) and isnotnull(icao24)\n    | where isnotempty(callsign) and isnotnull(callsign)\n    | where isnotempty(time_position) and isnotnull(time_position)\n    | extend bronze_timestamp = ingestion_time()\n    | extend silver_timestamp = now()\n    | extend callsign=replace(\" \", \"\", callsign)\n    | summarize arg_max(bronze_timestamp, *) by icao24\n}","executionStatus":"gotFromCache","clientRequestId":"Kusto.Web.RTA.QuerySet;0602e69b-45b0-481e-ae43-76ad39f97610;ee772aa2-0701-4647-bd15-887c66fb7c55","entityInContext":"trd-kz4sd5vknmz3u5t26m.z2/ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","commandType":"AdminCommand","commandWithoutLeadingComments":".create materialized-view SilverOpenskynet on table BronzeOpenskynet\n{\nBronzeOpenskynet\n    | where isnotempty(icao24) and isnotnull(icao24)\n    | where isnotempty(callsign) and isnotnull(callsign)\n    | where isnotempty(time_position) and isnotnull(time_position)\n    | extend bronze_timestamp = ingestion_time()\n    | extend silver_timestamp = now()\n    | extend callsign=replace(\" \", \"\", callsign)\n    | summarize arg_max(bronze_timestamp, *) by icao24\n}","hideEmptyColumns":false,"cursorPosition":{"lineNumber":9,"column":49}},{"id":"6992990c-9abc-4df3-bd6d-44d0b2da8208","queryRange":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":41},"title":"drop silver old","text":".drop materialized-view SilverOpenskynet","commandInContext":".drop materialized-view SilverOpenskynet","executionStatus":"gotFromCache","clientRequestId":"Kusto.Web.RTA.QuerySet;967cde03-d1d8-446a-ad11-a7bd7c9e9cac;8887c593-9412-4f64-81fc-f4f5930ee51f","entityInContext":"trd-kz4sd5vknmz3u5t26m.z2/ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","commandType":"AdminCommand","commandWithoutLeadingComments":".drop materialized-view SilverOpenskynet","hideEmptyColumns":false,"cursorPosition":{"lineNumber":1,"column":41}},{"id":"066df143-ddf9-40db-b350-55176f2dc1dd","queryRange":{"startLineNumber":1,"startColumn":1,"endLineNumber":2,"endColumn":8},"text":"SilverOpenskynet\n| count","commandInContext":"SilverOpenskynet\n| count","executionStatus":"gotFromCache","clientRequestId":"Kusto.Web.RTA.QuerySet;bd7b9b0f-0501-42d5-8afb-7291a5b9648b;f942c96e-9859-4cf1-bfcf-803877bba863","entityInContext":"trd-kz4sd5vknmz3u5t26m.z2/ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","commandType":"Query","commandWithoutLeadingComments":"SilverOpenskynet\n| count","hideEmptyColumns":false,"cursorPosition":{"lineNumber":2,"column":8}}],"tabInContext":"826cd6c7-3ab6-41be-b37b-ce5bd19b712d","connections":{"trd-55xus4esqfgup3mc6n.z7":{"clusterType":"Engine","name":"trd-55xus4esqfgup3mc6n.z7","connectionString":"https://trd-55xus4esqfgup3mc6n.z7.kusto.fabric.microsoft.com","initialCatalog":"ccd4537b-1941-411d-a93f-b45f7d132194","databases":{"trd-55xus4esqfgup3mc6n.z7/ccd4537b-1941-411d-a93f-b45f7d132194":{"id":"trd-55xus4esqfgup3mc6n.z7/ccd4537b-1941-411d-a93f-b45f7d132194","name":"ccd4537b-1941-411d-a93f-b45f7d132194","prettyName":"dajoma","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":46}},"id":"trd-55xus4esqfgup3mc6n.z7","fetchState":"done","fetchStateError":"","tooBigToCache":true,"serviceOffering":"Trident"},"trd-kz4sd5vknmz3u5t26m.z2":{"clusterType":"Engine","name":"trd-kz4sd5vknmz3u5t26m.z2","connectionString":"https://trd-kz4sd5vknmz3u5t26m.z2.kusto.fabric.microsoft.com","initialCatalog":"ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","databases":{"trd-kz4sd5vknmz3u5t26m.z2/ac257cd3-e45d-4c3c-a1d8-b4589541f6c8":{"id":"trd-kz4sd5vknmz3u5t26m.z2/ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","name":"ac257cd3-e45d-4c3c-a1d8-b4589541f6c8","prettyName":"eh","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":1,"majorVersion":3346}},"id":"trd-kz4sd5vknmz3u5t26m.z2","fetchState":"done","fetchStateError":"","tooBigToCache":true,"serviceOffering":"Trident"}}}}